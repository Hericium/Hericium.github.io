---
title: vueå¾®ä¿¡åˆ†äº«
date: 2019-01-21 19:28:04
tags: ç¼–ç¨‹
---
> ä»Šå¤©ç¢°åˆ°äº†å¾®ä¿¡åˆ†äº«çš„éœ€æ±‚ï¼Œæ€»ä½“ä¸Šæ¥è®²è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä½†æ˜¯è¿˜æ˜¯ç¢°åˆ°äº†ä¸€ä¸ªå‡æƒ³çš„å‘(çœŸçš„æ˜¯å‡æƒ³),ğŸ˜‡ 
[apiåœ°å€]( https://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421141115)
### 1. æ€è·¯
  - æ­¥éª¤ä¸€ï¼šç»‘å®šåŸŸå
  - å¼•å…¥JSæ–‡ä»¶
  - é€šè¿‡configæ¥å£æ³¨å…¥æƒé™éªŒè¯é…ç½®(åæ­£å¾®ä¿¡çš„ä¸œè¥¿éƒ½æœ‰è¿™ä¸€æ­¥)ğŸ˜›
  - é€šè¿‡readyæ¥å£å¤„ç†æˆåŠŸéªŒè¯
  - é€šè¿‡erroræ¥å£å¤„ç†å¤±è´¥éªŒè¯
<!-- more -->
### 2. å®ç°

  1.ç»‘å®šåŸŸåï¼Œåœ¨å…¬ä¼—å·åå°ç»‘å®šåŸŸåï¼Œæ‰€ä»¥æœ€åçš„æµ‹è¯•ä¸€å®šè¦æ˜¯çº¿ä¸Šç¯å¢ƒ(è¦ä¹ˆç”¨å†…ç½‘ç©¿é€ï¼Œè¿™æ ·å®¹æ˜“è°ƒè¯•,ä¸ç”¨æ¯ä¸€æ¬¡éƒ½å‘æµ‹è¯•ç¯å¢ƒ)

  2.åœ¨index.htmlæ–‡ä»¶é‡Œé¢å¼•å…¥ 
    http://res.wx.qq.com/open/js/jweixin-1.4.0.js  // æ³¨æ„åè®®

  3.é€šè¿‡configæ¥å£æ³¨å…¥æƒé™éªŒè¯é…ç½®, ä¸‹é¢äº”ä¸ªå‚æ•°éƒ½æ˜¯é€šè¿‡è¯·æ±‚åå°ï¼Œåå°è¿”å›ç»™ä½ çš„ã€‚ æ³¨æ„: å½“å‰é¡µé¢çš„urlæ˜¯è¦åœ¨è¿™ä¸ªæ¥å£é‡Œç»™åå°çš„ï¼Œåå°æ‰èƒ½ç”Ÿæˆå¯ç”¨çš„ç­¾åç®—æ³•, urlçš„æ ¼å¼å¦‚ä¸‹: urlï¼ˆå½“å‰ç½‘é¡µçš„URLï¼Œä¸åŒ…å«#åŠå…¶åé¢éƒ¨åˆ†),æ‰€ä»¥è¦æ³¨æ„vue-routerçš„æ¨¡å¼(jsApiListæ˜¯è°ƒç”¨çš„äº‹ä»¶ï¼Œapiæ–‡æ¡£é™„å½•2é‡Œé¢æœ‰)

```
    wx.config({
      debug: false, // æ˜¯å¦å¼€å¯è°ƒè¯•æ¨¡å¼
      appId: appId, //appid
      timestamp: timestamp, // æ—¶é—´æˆ³ 
      nonceStr: nonceStr, // éšæœºå­—ç¬¦ä¸²ï¼Œåªæœ‰è¿™ä¸ªæ˜¯é©¼å³°ğŸƒ 
      signature: signature, // ç­¾å
      jsApiList: [
        "onMenuShareTimeline",
        "onMenuShareAppMessage",
        "onMenuShareQQ",
        "onMenuShareWeibo",
        "onMenuShareQZone"
      ] // éœ€è¦ä½¿ç”¨çš„JSæ¥å£åˆ—è¡¨
    });

    // åˆ¤æ–­å½“å‰å®¢æˆ·ç«¯ç‰ˆæœ¬æ˜¯å¦æ”¯æŒæŒ‡å®šJSæ¥å£ ,è¿™æ­¥å¯æ— 
    wx.checkJsApi({
      jsApiList: [
        "onMenuShareTimeline",
        "onMenuShareAppMessage",
        "onMenuShareQQ",
        "onMenuShareWeibo",
        "onMenuShareQZone"
      ], // éœ€è¦æ£€æµ‹çš„JSæ¥å£åˆ—è¡¨ï¼Œæ‰€æœ‰JSæ¥å£åˆ—è¡¨è§é™„å½•2,
      success: function(res) {
        console.log(res);
        // ä»¥é”®å€¼å¯¹çš„å½¢å¼è¿”å›ï¼Œå¯ç”¨çš„apiå€¼trueï¼Œä¸å¯ç”¨ä¸ºfalse
        // å¦‚ï¼š{"checkResult":{"chooseImage":true},"errMsg":"checkJsApi:ok"}
      }
    });
```

![å¾®ä¿¡åˆ†äº«](https://pxw-my.oss-cn-hangzhou.aliyuncs.com/blog/20190121202108.png)

```
    // é€šè¿‡readyæ¥å£å¤„ç†æˆåŠŸéªŒè¯
    wx.ready(function() {
      const share = {
        title: mainTitle,   // åˆ†äº«å‡ºå»çš„title
        desc: subTitle,     // æè¿°ä¿¡æ¯
        imgUrl: smallIcons, // åˆ†äº«çš„å°å›¾æ ‡
        link: url,          // åˆ†äº«çš„é™¤å»çš„url
        success: function() {
          dosometing();     // åˆ†äº«æˆåŠŸï¼ŒæˆåŠŸä¹‹åè¦åšçš„äº‹æƒ…
        },
        cancel: function() {
          dosometing();     // åˆ†äº«å–æ¶ˆï¼Œå–æ¶ˆä¹‹åè¦åšçš„äº‹æƒ…
        }
      };
      wx.onMenuShareAppMessage(share); // å¾®ä¿¡å¥½å‹
      wx.onMenuShareTimeline(share); // æœ‹å‹åœˆ
      wx.onMenuShareQQ(share); // QQ
      wx.onMenuShareQZone(share); // QQç©ºé—´
      wx.onMenuShareWeibo(share); // è…¾è®¯å¾®åš
    });

    // å¦‚æœå¤±è´¥ , è·å–å¤±è´¥ä¿¡æ¯ 
    wx.error(function(res) {
      console.log("é”™è¯¯", res);
    });

```

### 3.å‡æƒ³çš„å‘

![åˆ†äº«è’™å±‚](https://pxw-my.oss-cn-hangzhou.aliyuncs.com/blog/20190121200918.png)

 æˆ‘çœ‹åˆ«äººçš„åˆ†äº«ï¼Œç‚¹å‡»åˆ†äº«éƒ½æ˜¯æœ‰å¦‚ä¸Šä¸€ä¸ªå¼•å¯¼å›¾çš„(ä»¥ä¸ºæ˜¯å®˜ç½‘è‡ªå¸¦çš„)ï¼Œä½†æ˜¯æˆ‘åšå¥½æ²¡æœ‰å¼•å¯¼å›¾ï¼Œæˆ‘å¼€å§‹ä¸€ç›´ä»¥ä¸ºå“ªä¸€æ­¥å‡ºé—®é¢˜äº†ï¼Œåæ¥å‘ç°ï¼Œè¿™ä¸ªå›¾æ˜¯è¦è‡ªå·±åŠ çš„ï¼Œç‚¹å‡»åˆ†äº«ï¼Œæ‰“å¼€è¿™ä¸ªè’™å±‚ï¼Œåœ¨æˆåŠŸå›è°ƒé‡Œé¢ï¼ŒæŠŠè¿™ä¸ªè’™å±‚å»æ‰ã€‚ğŸ˜…

